{"mappings":"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","sources":["src/Details.js","src/Carousel.js","src/ErrorBoundary.js","node_modules/@parcel/runtime-js/lib/runtime-bde405123ce570f9.js"],"sourcesContent":["import React, { Component, lazy } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Carousel from \"./Carousel\";\r\nimport ErrorBoundary from \"./ErrorBoundary\";\r\nimport ThemeContext from \"./ThemeContext\";\r\n// import Modal from \"./Modal\";\r\n\r\n// dynamically importing modal using lazy\r\nconst Modal = lazy(() => import(\"./Modal\"));\r\n\r\nclass Details extends Component {\r\n  // constructor method\r\n  // constructor() {\r\n  //   super();\r\n  // our state object\r\n  state = { loading: true, showModal: false };\r\n  // }\r\n\r\n  async componentDidMount() {\r\n    const res = await fetch(\r\n      `http://pets-v2.dev-apis.com/pets?id=${this.props.params.id}`\r\n    );\r\n    const json = await res.json();\r\n    // setting new state values\r\n    // json.pets[0] will hold an object with all keys and values.\r\n    this.setState(\r\n      Object.assign(\r\n        {\r\n          loading: false,\r\n        },\r\n        json.pets[0]\r\n      )\r\n    );\r\n  }\r\n  // following method will reverse the showModal state value\r\n  toggleModal = () => {\r\n    this.setState({ showModal: !this.state.showModal });\r\n  };\r\n  // following method is pointing to the external URL.\r\n  adopt = () => (window.location = \"http://bit.ly/pet-adopt\");\r\n\r\n  render() {\r\n    if (this.state.loading) {\r\n      return <h2>loading â€¦ </h2>;\r\n    }\r\n    const { animal, breed, city, state, description, name, images, showModal } =\r\n      this.state;\r\n    return (\r\n      <div className=\"details\">\r\n        <Carousel images={images} name={name} />\r\n        <div className=\"text-center px-9\">\r\n          <h1 className=\"text-6xl\">{name}</h1>\r\n          <h2 className=\"text-3xl\">{`${animal} - ${breed} - ${city}, ${state}`}</h2>\r\n          <ThemeContext.Consumer>\r\n            {([theme]) => (\r\n              <button\r\n                onClick={this.toggleModal}\r\n                className=\"btn w-1/6 p-5 rounded-md my-4 text-white hover:text-zinc-300\"\r\n                style={{ backgroundColor: theme }}\r\n              >\r\n                Adopt {name}\r\n              </button>\r\n            )}\r\n          </ThemeContext.Consumer>\r\n          <p className=\"w-1/2 mx-auto text-justify mb-10\">{description}</p>\r\n          {showModal ? (\r\n            <Modal>\r\n              <div className=\"bg-white px-[200px] py-[100px] rounded-lg drop-shadow-2xl\">\r\n                <h1 className=\"text-2xl mb-5\">\r\n                  Would you like to adopt {name} ?\r\n                </h1>\r\n                <div className=\"buttons flex \">\r\n                  <button\r\n                    className=\"w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 md:py-4 md:text-lg md:px-10 mr-2\"\r\n                    onClick={this.adopt}\r\n                  >\r\n                    Yes\r\n                  </button>\r\n                  <button\r\n                    className=\"w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 md:py-4 md:text-lg md:px-10 ml-2\"\r\n                    onClick={this.toggleModal}\r\n                  >\r\n                    No\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </Modal>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n// higher order component and returning Details component.\r\nconst WrappedDetails = () => {\r\n  // using useparams hook\r\n  const params = useParams();\r\n  // adding params prop\r\n  // params is the value\r\n  return (\r\n    <ErrorBoundary>\r\n      <Details params={params} />\r\n    </ErrorBoundary>\r\n  );\r\n};\r\n\r\nexport default WrappedDetails;\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Carousel extends Component {\r\n  state = {\r\n    active: 0,\r\n  };\r\n  // The defaultProps is a React component property that allows you to set default values for the props argument\r\n  static defaultProps = {\r\n    images: [\"http://pets-images.dev-apis.com/pets/none.jpg\"],\r\n    name: \"animal\",\r\n  };\r\n  // arrow function must be used otherwise this will be undefined.\r\n  // In case of arrow function this refers to the surrounding scope\r\n  // As the class is surrounding this method, therefore this will refer\r\n  // to this class.\r\n  handleIndexClick = (event) => {\r\n    // console.log(+event.target.dataset.index);\r\n    this.setState({\r\n      // event.target.dataset.index will target the data-index value of the image, that was clicked.\r\n      // The data attribute comes back as a string. We want it to be a number, hence the +\r\n      active: +event.target.dataset.index,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    // destructuring our state.\r\n    const { active } = this.state;\r\n    // destructuring our props that's comming from the parent component.\r\n    // we will be passing down images prop\r\n    // from Details to Carousels component.\r\n    const { images, name } = this.props;\r\n    console.log(this.props);\r\n    return (\r\n      <div className=\"carousel grid grid-cols-1 gap-4 px-9\">\r\n        <img\r\n          src={images[active]}\r\n          alt={name}\r\n          className=\"w-2/3 h-[400px] object-cover object-center mx-auto rounded border-2 border-black\"\r\n        />\r\n        <div className=\"w-2/3 mx-auto carousel-smaller flex flex-wrap justify-center items-center\">\r\n          {images.map((photo, index) => (\r\n            <img\r\n              src={photo}\r\n              key={photo}\r\n              data-index={index}\r\n              onClick={this.handleIndexClick}\r\n              className={\r\n                index === active\r\n                  ? \"active w-1/5 rounded-full p-2 border-2 border-black\"\r\n                  : \"w-1/5 rounded-full p-2 border-2 border-white\"\r\n              }\r\n              alt=\"animal thumbnail\"\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Navigate } from \"react-router-dom\";\r\nexport default class ErrorBoundary extends Component {\r\n  state = {\r\n    hasError: false,\r\n    redirect: false,\r\n  };\r\n  /**\r\n   * The getDerivedStateFromError() method is invoked if some error occurs during the rendering phase.\r\n   *  It is called during the render phase, so side-effects are not permitted in this method. For side-effects, we use componentDidCatch() instead.\r\n   *\r\n   */\r\n  static getDerivedStateFromError() {\r\n    // Changing the state hasError to true if some error occurs.\r\n    return {\r\n      hasError: true,\r\n    };\r\n  }\r\n  // componentDidCatch is also involked during rendering phase.\r\n  // unlike getDerivedStateFromError() side-effects are allowed in this method.\r\n  componentDidCatch(error, info) {\r\n    console.error(\"ErrorBoundery caught an error.\", error, info);\r\n  }\r\n  componentDidUpdate() {\r\n    if (this.state.hasError) {\r\n      setTimeout(() => {\r\n        this.setState({\r\n          redirect: true,\r\n        });\r\n      }, 5000);\r\n    }\r\n  }\r\n  render() {\r\n    if (this.state.redirect) {\r\n      return <Navigate to=\"/\" />;\r\n    } else if (this.state.hasError) {\r\n      return (\r\n        <h2>\r\n          There was an error with this listing. <Link to=\"/\">Click here</Link>{\" \"}\r\n          to back to the home page or wait five seconds.\r\n        </h2>\r\n      );\r\n    }\r\n    return this.props.children;\r\n  }\r\n}\r\n","module.exports = (__parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"tMvo9\"))).then(() => parcelRequire('gAfNy'));"],"names":["Modal","lazy","parcelRequire","Details","Component","async","res","fetch","this","props","params","id","json","setState","Object","assign","loading","pets","render","state","$3Zbho","jsx","children","animal","breed","city","description","name","images","showModal","jsxs","className","$2ksSQ","default","$5urL9","Consumer","theme","onClick","toggleModal","style","backgroundColor","$8ffc99ca8a90695b$var$Modal","adopt","constructor","args","super","$8ffc99ca8a90695b$var$_defineProperty","window","location","$8ffc99ca8a90695b$export$2e2bcd8739ae039","useParams","$t5lWb","$8ffc99ca8a90695b$var$Details","Carousel","active","console","log","src","alt","map","photo","index","handleIndexClick","$1b23dab4d13e294f$var$_defineProperty","event","target","dataset","ErrorBoundary","componentDidCatch","error","hasError","info","setTimeout","redirect","$brOwx","Navigate","Link","to","module","exports","import","resolve","then"],"version":3,"file":"Details.420e2ce2.js.map"}